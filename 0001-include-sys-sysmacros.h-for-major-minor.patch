diff --git a/lib/ext2fs/ismounted.c b/lib/ext2fs/ismounted.c
--- a/lib/ext2fs/ismounted.c
+++ b/lib/ext2fs/ismounted.c
@@ -25,6 +25,7 @@
 #include "config.h"
 #include <stdio.h>
 #include <string.h>
+#include <sys/sysmacros.h>
 #if HAVE_UNISTD_H
 #include <unistd.h>
 #endif
diff --git a/lib/blkid/devname.c b/lib/blkid/devname.c
--- a/lib/blkid/devname.c
+++ b/lib/blkid/devname.c
@@ -30,6 +30,7 @@
 #include <errno.h>
 #include <dirent.h>
 #include <fcntl.h>
+#include <sys/sysmacros.h>
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
